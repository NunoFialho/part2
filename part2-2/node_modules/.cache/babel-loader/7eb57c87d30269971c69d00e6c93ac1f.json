{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PC\\\\Desktop\\\\FullStack\\\\part2-2\\\\src\\\\App.js\";\nimport React, { useState, useEffect } from 'react';\nimport Filter from \"./components/Filter\";\nimport Person from \"./components/Person\";\nimport PersonForm from \"./components/PersonForm\";\nimport Comm from './services/Comm';\nimport Notification from './components/Notification';\nimport './index.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [message, setMessage] = useState('');\n  useEffect(() => {\n    Comm.getAll().then(response => {\n      setPersons(response);\n    });\n  }, []);\n\n  const delet = (id, name) => {\n    if (window.confirm('Delete ' + name + '?')) {\n      Comm.deleteItem(id).then(setPersons(persons.filter(n => n.id !== id))).catch(error => setMessage(name + ' was already removed from server'));\n      setTimeout(() => {\n        setMessage(null);\n      }, 2000);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, \"Phonebook\"), /*#__PURE__*/React.createElement(Filter, {\n    persons: persons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Notification, {\n    className: \"error\",\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, \"Add a new\"), /*#__PURE__*/React.createElement(PersonForm, {\n    persons: persons,\n    setPersons: setPersons,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }, \"Numbers\"), /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Person, {\n    persons: persons,\n    func: delet,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["C:/Users/PC/Desktop/FullStack/part2-2/src/App.js"],"names":["React","useState","useEffect","Filter","Person","PersonForm","Comm","Notification","App","persons","setPersons","message","setMessage","getAll","then","response","delet","id","name","window","confirm","deleteItem","filter","n","catch","error","setTimeout"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,UAAP,MAAuB,yBAAvB;AACA,OAAOC,IAAP,MAAiB,iBAAjB;AACA,OAAOC,YAAP,MAAyB,2BAAzB;AACA,OAAO,aAAP;;AAIA,MAAMC,GAAG,GAAG,MAAM;AAChB,QAAM,CAAEC,OAAF,EAAWC,UAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAEU,OAAF,EAAWC,UAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAK;AACbI,IAAAA,IAAI,CAACO,MAAL,GAAcC,IAAd,CACEC,QAAQ,IAAI;AACVL,MAAAA,UAAU,CAACK,QAAD,CAAV;AACD,KAHH;AAKD,GANQ,EAMN,EANM,CAAT;;AASA,QAAMC,KAAK,GAAG,CAACC,EAAD,EAAIC,IAAJ,KAAY;AACxB,QAAGC,MAAM,CAACC,OAAP,CAAe,YAAUF,IAAV,GAAe,GAA9B,CAAH,EAAsC;AACpCZ,MAAAA,IAAI,CAACe,UAAL,CAAgBJ,EAAhB,EAAoBH,IAApB,CACEJ,UAAU,CAACD,OAAO,CAACa,MAAR,CAAeC,CAAC,IAAIA,CAAC,CAACN,EAAF,KAASA,EAA7B,CAAD,CADZ,EAEEO,KAFF,CAEQC,KAAK,IACXb,UAAU,CAACM,IAAI,GAAC,kCAAN,CAHZ;AAKAQ,MAAAA,UAAU,CAAC,MAAM;AACfd,QAAAA,UAAU,CAAC,IAAD,CAAV;AACD,OAFS,EAEP,IAFO,CAAV;AAGD;AAEF,GAZD;;AAaA,sBACE,uDACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,eAEE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEH,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,YAAD;AAAc,IAAA,SAAS,EAAC,OAAxB;AAAgC,IAAA,OAAO,EAAEE,OAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,eAKE,oBAAC,UAAD;AAAY,IAAA,OAAO,EAAEF,OAArB;AAA8B,IAAA,UAAU,EAAEC,UAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eANF,eAOE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAED,OAAjB;AAA0B,IAAA,IAAI,EAAEO,KAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,CADF;AAaD,CAvCD;;AAyCA,eAAeR,GAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport Filter from \"./components/Filter\"\r\nimport Person from \"./components/Person\"\r\nimport PersonForm from \"./components/PersonForm\"\r\nimport Comm from './services/Comm'\r\nimport Notification from './components/Notification'\r\nimport './index.css'\r\n\r\n\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]) \r\n  const [ message, setMessage ] = useState('')\r\n  \r\n  useEffect(() =>{\r\n    Comm.getAll().then(\r\n      response => {\r\n        setPersons(response)\r\n      }\r\n    )\r\n  }, [])\r\n\r\n\r\n  const delet = (id,name) =>{\r\n    if(window.confirm('Delete '+name+'?')){\r\n      Comm.deleteItem(id).then(\r\n        setPersons(persons.filter(n => n.id !== id))\r\n      ).catch(error =>\r\n        setMessage(name+' was already removed from server')\r\n      )\r\n      setTimeout(() => {\r\n        setMessage(null)\r\n      }, 2000)\r\n    }   \r\n    \r\n  }\r\n  return (\r\n    <>\r\n      <h2>Phonebook</h2>\r\n      <Filter persons={persons}/>\r\n      <Notification className='error' message={message}/>\r\n      <h2>Add a new</h2>\r\n      <PersonForm persons={persons} setPersons={setPersons} />\r\n      <h2>Numbers</h2>\r\n      <ul>\r\n        <Person persons={persons} func={delet}/>\r\n      </ul>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App"]},"metadata":{},"sourceType":"module"}